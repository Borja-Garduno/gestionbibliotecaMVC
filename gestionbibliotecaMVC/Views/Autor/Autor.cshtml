@*Estas en View / Autor / Autor*@
@model gestionbibliotecaMVC.ViewModel.AutorViewModel
@{
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}


@using (Html.BeginForm("Save", "Autor", FormMethod.Post)) {

    @Html.ValidationSummary(true)

    if (Model.Autor.CodAutor != -1 && ViewBag.Title != MyResources.AutorResources.AccionEditar) {
  <!-- FORMULARIO DE VISUALIZAR -->
        <div class="container">

            <div class="col-md-12">
                @Html.ActionLink("Editar", "ViewDetails", new {
               codAutor = Model.Autor.CodAutor, editar = true
           }, new {
               @class = "btn btn-info"
           })
            </div>
        </div>
        @Html.HiddenFor(model => model.Autor.CodAutor)
        <div class="container">

            <div class="col-md-6">
                @Html.LabelFor(model => model.Autor.Nombre, htmlAttributes: new {
               @class = ""
           })
                @Model.Autor.Nombre
                @Html.ValidationMessageFor(model => model.Autor.Nombre, "", new {
               @class = ""
           })
            </div>

            <div class="col-md-6">
                @Html.LabelFor(model => model.Autor.Apellidos, htmlAttributes: new {
               @class = ""
           })
                @Model.Autor.Apellidos
                @Html.ValidationMessageFor(model => model.Autor.Apellidos, "", new {
               @class = ""
           })
            </div>

            <div class="col-md-12">
                @Html.LabelFor(model => model.Autor.FNacimiento, htmlAttributes: new {
               @class = ""
           })
                @Model.Autor.FNacimiento
                @Html.ValidationMessageFor(model => model.Autor.FNacimiento, "", new {
               @class = ""
           })
            </div>
        </div>
        if (Model.Libros.Count > 0) {
            <div class="container">
                @foreach (var libro in Model.Libros) {

                    <div class="row">
                        <div class="col-md-12">
                            @Html.ActionLink(@libro.Titulo, "ViewDetails", "Libro", new {codLibro = @libro.CodLibro}, null)
                        </div>
                    </div>
                }
            </div>
        }
    } else {
        //FORMULARIO DE CREAR
                @Html.HiddenFor(model => model.Autor.CodAutor)

                <div class="form-group">
                    <div class="container">
                        <div class="row">

                            <div class="col-md-3">
                                @Html.LabelFor(model => model.Autor.Nombre, htmlAttributes: new {
                                   @class = ""
                               })
                            </div>
                            <div class="col-md-3">
                                @Html.EditorFor(model => model.Autor.Nombre, new {
                                   htmlAttributes = new {
                                       @class = "form-control"
                                   }
                               })
                                @Html.ValidationMessageFor(model => model.Autor.Nombre, "", new {
                                   @class = ""
                               })
                            </div>
                            <div class="col-md-6"></div>

                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                @Html.LabelFor(model => model.Autor.Apellidos, htmlAttributes: new {
                                   @class = ""
                               })
                            </div>
                            <div class="col-md-3">
                                @Html.EditorFor(model => model.Autor.Apellidos, new {
                                   htmlAttributes = new {
                                       @class = "form-control"
                                   }
                               })
                                @Html.ValidationMessageFor(model => model.Autor.Apellidos, "", new {
                                   @class = ""
                               })
                            </div>
                            <div class="col-md-6"></div>

                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                @Html.LabelFor(model => model.Autor.FNacimiento, htmlAttributes: new {
                                   @class = ""
                               })
                            </div>
                            <div class="col-md-3">
                                @Html.EditorFor(model => model.Autor.FNacimiento, new {
                                   htmlAttributes = new {
                                       @class = "form-control"
                                   }
                               })
                                @Html.ValidationMessageFor(model => model.Autor.FNacimiento, "", new {
                                   @class = ""
                               })
                            </div> <div class="col-md-6"> </div>
                        </div><div class="row">
                            <div class="col-md-3">

                            </div>
                            <div class="col-md-9"> <input type="submit" class="btn btn-success" value="Guardar" /></div>
                        </div>
                    </div>
                </div>
        }
    }

